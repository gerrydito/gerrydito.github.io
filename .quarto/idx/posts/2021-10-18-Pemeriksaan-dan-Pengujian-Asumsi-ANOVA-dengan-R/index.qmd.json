{"title":"Pemeriksaan dan Pengujian Asumsi ANOVA dengan R","markdown":{"yaml":{"title":"Pemeriksaan dan Pengujian Asumsi ANOVA dengan R","date":"11-19-2021","author":"Gerry Alfa Dito","categories":["Compare Means","Analysis of Experiments Data"],"draft":false,"image":"post-image.jpg"},"headingText":"Package","containsRefs":false,"markdown":"\n\n\n\nInstall package berikut jika belum ada\n\n```{r eval=FALSE}\ninstall.packages(\"tidyverse\")\ninstall.packages(\"broom\")\ninstall.packages(\"performance\")\ninstall.packages(\"see\")\ninstall.packages(\"car\")\ninstall.packages(\"fbasics\")\ninstall.packages(\"ggpubr\")\n```\n\n\n```{r message=FALSE}\nlibrary(tidyverse)\nlibrary(performance)\nlibrary(see)\nlibrary(car)\nlibrary(broom)\nlibrary(fBasics)\nlibrary(ggpubr)\n```\n\n\n## Data\n\nSebuah percobaan dilakukan untuk menyelidiki efektivitas lima bahan isolasi (insulating materials). Bahan Isolasi merupakan bahan yang tidak dapat mengalirkan arus listrik atau panas. Empat sampel dari setiap bahan yang diuji padategangan tinggi untuk mempercepat waktu kegagalan (failure time).Waktu kegagalan menunjukkan waktu saat bahan isolasi tidak bisa lagi menghambat arus listrik atau panas. Waktu kegagalan (dalam menit) ditunjukkan di bawah ini: \n\n![](Isolating Material Table.png)\n\n## Import Data ke dalam R\n\nUntuk import data ke R kita bisa langsung menuliskan data nya di R dengan sintaks seperti dibawah ini\n\n```{r}\nbahan_isolasi <- read.table(header = TRUE,\n                            text=\"Bahan WaktuKegagalan\n                                  A 110\n                                  A 157\n                                  A 194\n                                  A 178\n                                  B 1\n                                  B 2\n                                  B 4\n                                  B 18\n                                  C 880\n                                  C 1256\n                                  C 5276\n                                  C 4355\n                                  D 495\n                                  D 7040\n                                  D 5307\n                                  D 10050\n                                  E 7\n                                  E 5\n                                  E 29\n                                  E 2\n                                  \")\nbahan_isolasi\n```\n\n\n\n\n## Analysis of Variance (ANOVA)\n\nHipotesis yang diuji pada kasus ini adalah\n\n$$\n\\begin{aligned}\nH_{0} &: \\text{rerata waktu kegagalan sama untuk semua jenis bahan} \\\\\nH_{1} &: \\text{terdapat minimal sepasang jenis bahan yang memiliki rerata waktu kegagalan tidak sama}\n\\end{aligned}\n$$\n\n\n\n```{r}\nanova1 <- aov(WaktuKegagalan ~ Bahan,data = bahan_isolasi)\n```\n\n```{r}\ntidy(anova1)\n```\n\nkarena p-value yang dihasilkan dari uji ANOVA kurang dari 0.05 maka cukup bukti untuk mengakatakan bahwa $H_{0}$ ditolak atau dengan kata lain **terdapat minimal sepasang jenis bahan yang memiliki rata-rata waktu kegagalan tidak sama**\n\n## Pemeriksaan Asumsi ANOVA\n\nPemeriksaan asumsi ANOVA dilakukan pada residual nya. Untuk mengeluarkan residualnya bisa menggunakan sintaks dibawah ini\n\n```{r warning=FALSE}\naug1 <- augment(anova1)\n\n```\n\n```{r}\naug1\n```\n\n\n### Normalitas (Residual Menyebar Normal)\n\nPemeriksaan Normalitas bisa dilakukan dengan menggunakan grafik atau uji hipotesis.\n\n\n#### Grafik\n\nuntuk menampilkan grafik dibawah ini terlebih dahulu harus memanggil package `performance` dan `see`\n\n\n\n\n```{r}\nplot(check_normality(x = anova1),type=\"qq\")\n```\n\nDari grafik ini, terdapat beberapa titik residual yang tidak mengikuti pola garis  maka diduga bahwa asumsi normalitas tidak dipenuhi.\n\n#### Uji Hipotesis\n\nHipotesis yang diuji untuk pemeriksaan normalitas adalah\n\n$$\n\\begin{aligned}\nH_{0} &: \\text{galat menyebar normal} \\\\\nH_{1} &: \\text{galat tidak menyebar normal}\n\\end{aligned}\n$$\n\nUji Normalitas bisa dilakukan dengan beberapa metode pengujian. Untuk itu, akan dibuat fungsi R agar dapat menjalankan metode-metode pengujian tersebut. Fungsi R ini tidak perlu dipahami secara serius karena dapat digunakan untuk berbagai kondisi data. Fungsi R buatan ini sangat bergantung pada package `fbasics`\n\n```{r}\n## fungsi R buatan\n\nnormal_test <- function(data,variable){\n  ad_stat <- adTest(\n    data %>% \n      pull(variable)\n    )@test$statistic\n  ks_stat <- ksnormTest(\n    data %>% \n      pull(variable)\n    )@test$statistic\n  jb_stat <- jarqueberaTest(\n    data %>% \n      pull(variable)\n    )@test$statistic\n  \n  shapiro_stat <- shapiroTest(\n    data %>% \n      pull(variable)\n    )@test$statistic\n  \n  ad_p.value <- adTest(\n    data %>% \n      pull(variable)\n    )@test$p.value\n  ks_p.value <- ksnormTest(\n    data %>% \n      pull(variable)\n    )@test$p.value\n  jb_p.value <- jarqueberaTest(\n    data %>% \n      pull(variable)\n    )@test$p.value\n  \n  shapiro_p.value <- shapiroTest(\n    data %>% \n      pull(variable)\n    )@test$p.value\n  \n  all_stats <- data.frame(statistic=c(ad_stat,                                  ks_stat[1],\n                        jb_stat,\n                        shapiro_stat),\n                        p.value=c(\n                        ad_p.value,                              ks_p.value[1],\n                        jb_p.value,\n                        shapiro_p.value\n                        )) %>% \n    mutate(across(where(is.numeric),~ round(.x,3))) %>% \n    mutate(name=c(\"Anderson-Darling\",\n                    \"Kolmogorov-Smirnov\",\n                    \"Shapiro-Wilk\",\n                    \"Jarque-Bera\")) %>% \n    relocate(name) \n    \n  \n  rownames(all_stats) <- NULL\n  return(all_stats)\n}\n\n```\n\n\n\n\n```{r}\nnormal_test(data = aug1,\n            variable = \".resid\")\n```\n\n\nkarena p-value yang dihasilkan dari uji normalitas kurang dari 0.05 maka $H_{0}$ ditolak atau dengan kata lain **residual tidak menyebar normal**\n\n### Homogenitas\n\nPemeriksaan Homogenitas bisa dilakukan dengan menggunakan grafik atau uji hipotesis.\n\n\n#### Grafik\n\nuntuk menampilkan grafik dibawah ini menggunakan package `ggpubr` \n\n\n\n```{r}\nggscatter(data = aug1,\n                  x=\".fitted\",\n                  y=\".resid\")+\n  geom_hline(aes(yintercept=0)) +\n  theme_lucid()\n```\n\n\nDari grafik ini, terdapat pola berbentuk corong (funnel shape) maka diduga bahwa asumsi homogenitas tidak dipenuhi.\n\n#### Uji Hipotesis\n\nHipotesis yang diuji untuk pemeriksaan homogenitas adalah\n\n$$\n\\begin{aligned}\nH_{0} &: \\text{ragam homogen antar perlakukan} \\\\\nH_{1} &: \\text{ragam tidak homogen antar perlakuan}\n\\end{aligned}\n$$\n\n\nUji Homogenitas bisa dilakukan dengan beberapa metode pengujian dibawah ini\n\n```{r}\n# Bartlett (asumsi residual menyebar normal)\ncheck_homogeneity(anova1,method=\"bartlett\")\n# Fligner (merupakan uji nonparametrik)\ncheck_homogeneity(anova1,method=\"fligner\")\n```\n\nkarena p-value yang dihasilkan dari uji homogenitas kurang dari 0.05 maka $H_{0}$ ditolak atau dengan kata lain **ragam tidak homogen antar perlakukan**\n\n\n### Independent\n\n#### Grafik\n\nPemeriksaan Independent bisa dilakukan dengan menggunakan grafik.\n\nuntuk menampilkan grafik dibawah ini menggunakan package `ggpubr` \n\n\n```{r}\naug1 %>%                    \n  mutate(order=seq(nrow(aug1))) %>% \n  ggscatter(x=\"order\",y=\".resid\")+\n  theme_lucid()\n```\nDari grafik ini, tidak terbentuk pola tertentu (misal pola linear) maka diduga bahwa asumsi Independent dipenuhi.\n\n\n## Penanganan Pelanggaran Asumsi\n\n### Transformasi Box-cox\n\nTransformasi Box-Cox didefinisikan sebagai\n\n$$\n\\begin{equation}\ny^{(\\lambda)} = \n\\begin{cases}\n  \\frac{y^{\\lambda}-1}{\\lambda} & \\text{untuk} \\space \\lambda\\neq 0  \\\\\n  \\ln{(y)} & \\text{untuk} \\space \\lambda= 0  \\\\\n\\end{cases}\n\\end{equation}\n$$\n\nuntuk mendapatkan nilai $\\lambda$ optimal dapat digunakan pendugaan  MLE, yaitu dengan mendapatkan nilai $\\lambda$ yang memaksimumkan fungsi log-likelihood. Hal ini bisa dilihat pada grafik yang diperoleh dari fungsi `boxCox` pada package `car`\n\n```{r}\nboxCox(anova1)\n```\n\nBerdasarkan gambar diketahui bahwa nilai lambda yang optimum ada disekitar nol. Oleh karena itu kita bisa langsung memakai $\\lambda = 0$.\n\nCara lain untuk mendapatkan nilai lambda optimum adalah dengan menggunakan fungsi `powerTransform` dari package `car` yang menampilkan hasil pendugaan titik (point estimate), selang kepercayaan dan uji hipotesis dengan Likelihood Ratio Test (LRT) dari $\\lambda$\n\n```{r}\nboxcox_res <-powerTransform(anova1) \nsummary(boxcox_res)\n# pembulatan pada lambda\nboxcox_res$roundlam\n```\n\nBerdasarkan output nya didapatkan bahwa \n\n1. penduga titik nya $\\lambda=0.0101$ atau dibulatkan menjadi $\\lambda=0$.\n2. selang kepercayaan $-0.094 \\leq \\lambda \\leq 0.1141$\n3. Untuk uji hipotesis yang pertama (Log Transformation)\n\n$$\n\\begin{aligned}\nH_{0} &: \\lambda = 0 \\space \\\\\nH_{1} &: \\lambda \\neq 0 \n\\end{aligned}\n$$\n\nkarena p-value dari uji yang pertama besar (lebih dari 0.05) maka tidak tolak $H_{0}$ atau dengan kata lain kita bisa menggunakan $\\lambda=0$\n4. Untuk uji hipotesis yang kedua (no transformation)\n\n\n$$\n\\begin{aligned}\nH_{0} &: \\lambda = 1 \\space \\\\\nH_{1} &: \\lambda \\neq 1\n\\end{aligned}\n$$\n\nkarena p-value dari uji yang pertama kecil (kurang dari 0.05) maka tolak $H_{0}$ atau dengan kata lain kita bisa menggunakan $\\lambda \\neq 1$. Nilai $\\lambda \\neq 1$ implikasinya ada transformasi dan nilai $\\lambda = 1$ implikasinya tidak dibutuhkan transformasi.\n\n\n```{r}\nbahan_isolasi_trans <- bahan_isolasi %>% \n                        mutate(WaktuKegagalan_Trans =bcPower(WaktuKegagalan,boxcox_res$roundlam))\n\nanova2 <- aov(WaktuKegagalan_Trans ~ Bahan,data = bahan_isolasi_trans)\n```\n\n```{r}\ntidy(anova2)\n```\n\n\n### Pemeriksaan kembali Asumsi ANOVA\n\nPemeriksaan asumsi ANOVA dilakukan pada residual nya. Untuk mengeluarkan residualnya bisa menggunakan sintaks dibawah ini\n\n```{r warning=FALSE}\naug2 <- augment(anova2)\n\n```\n\n```{r}\naug2\n```\n\n\n### Normalitas (Galat Menyebar Normal)\n\nPemeriksaan Normalitas bisa dilakukan dengan menggunakan grafik atau uji hipotesis.\n\n\n#### Grafik\n\nuntuk menampilkan grafik dibawah ini terlebih dahulu harus memanggil package `performance` dan `see`\n\n\n\n\n```{r}\nplot(check_normality(x = anova2),type=\"qq\")\n```\n\nDari grafik ini, titik-titik residual yang engikuti pola garis dan berada di dalam daerah selang kepercayaan maka diduga bahwa asumsi normalitas terpenuhi.\n\n#### Uji Hipotesis\n\nHipotesis yang diuji untuk pemeriksaan normalitas adalah\n\n$$\n\\begin{aligned}\nH_{0} &: \\text{galat menyebar normal} \\\\\nH_{1} &: \\text{galat tidak menyebar normal}\n\\end{aligned}\n$$\n\nUji Normalitas bisa dilakukan dengan beberapa metode pengujian. \n\n```{r}\nnormal_test(data = aug2,\n            variable = \".resid\")\n```\n\n\nkarena p-value yang dihasilkan dari uji normalitas lebih besar dari 0.05 maka $H_{0}$ tidak ditolak atau dengan kata lain **galat menyebar normal**\n\n### Homogenitas\n\nPemeriksaan Homogenitas bisa dilakukan dengan menggunakan grafik atau uji hipotesis.\n\n\n#### Grafik\n\nuntuk menampilkan grafik dibawah ini menggunakan package `ggpubr` \n\n\n\n```{r}\nggscatter(data = aug2,\n                  x=\".fitted\",\n                  y=\".resid\")+\n  geom_hline(aes(yintercept=0)) +\n  theme_lucid()\n```\n\n\nDari grafik ini, tidak terdapat pola berbentuk corong (funnel shape) maka diduga bahwa asumsi homogenitas terpenuhi.\n\n#### Uji Hipotesis\n\nHipotesis yang diuji untuk pemeriksaan homogenitas adalah\n\n$$\n\\begin{aligned}\nH_{0} &: \\text{ragam homogen antar perlakukan} \\\\\nH_{1} &: \\text{ragam tidak homogen antar perlakuan}\n\\end{aligned}\n$$\n\n\nUji Homogenitas bisa dilakukan dengan beberapa metode pengujian dibawah ini\n\n```{r}\n# Bartlett (asumsi residual menyebar normal)\ncheck_homogeneity(anova2,method=\"bartlett\")\n# Fligner (merupakan uji nonparametrik)\ncheck_homogeneity(anova2,method=\"fligner\")\n```\n\nkarena p-value yang dihasilkan dari uji homogenitas lebih besar dari 0.05 maka $H_{0}$ tidak ditolak atau dengan kata lain **ragam homogen antar perlakukan**\n\n\n### Independent\n\n#### Grafik\n\nPemeriksaan Independent bisa dilakukan dengan menggunakan grafik.\n\nuntuk menampilkan grafik dibawah ini menggunakan package `ggpubr` \n\n\n```{r}\naug2 %>%                    \n  mutate(order=seq(nrow(aug1))) %>% \n  ggscatter(x=\"order\",y=\".resid\")+\n  theme_lucid()\n```\nDari grafik ini, tidak terbentuk pola tertentu (misal pola linear) maka diduga bahwa asumsi Independent dipenuhi.\n","srcMarkdownNoYaml":"\n\n\n## Package\n\nInstall package berikut jika belum ada\n\n```{r eval=FALSE}\ninstall.packages(\"tidyverse\")\ninstall.packages(\"broom\")\ninstall.packages(\"performance\")\ninstall.packages(\"see\")\ninstall.packages(\"car\")\ninstall.packages(\"fbasics\")\ninstall.packages(\"ggpubr\")\n```\n\n\n```{r message=FALSE}\nlibrary(tidyverse)\nlibrary(performance)\nlibrary(see)\nlibrary(car)\nlibrary(broom)\nlibrary(fBasics)\nlibrary(ggpubr)\n```\n\n\n## Data\n\nSebuah percobaan dilakukan untuk menyelidiki efektivitas lima bahan isolasi (insulating materials). Bahan Isolasi merupakan bahan yang tidak dapat mengalirkan arus listrik atau panas. Empat sampel dari setiap bahan yang diuji padategangan tinggi untuk mempercepat waktu kegagalan (failure time).Waktu kegagalan menunjukkan waktu saat bahan isolasi tidak bisa lagi menghambat arus listrik atau panas. Waktu kegagalan (dalam menit) ditunjukkan di bawah ini: \n\n![](Isolating Material Table.png)\n\n## Import Data ke dalam R\n\nUntuk import data ke R kita bisa langsung menuliskan data nya di R dengan sintaks seperti dibawah ini\n\n```{r}\nbahan_isolasi <- read.table(header = TRUE,\n                            text=\"Bahan WaktuKegagalan\n                                  A 110\n                                  A 157\n                                  A 194\n                                  A 178\n                                  B 1\n                                  B 2\n                                  B 4\n                                  B 18\n                                  C 880\n                                  C 1256\n                                  C 5276\n                                  C 4355\n                                  D 495\n                                  D 7040\n                                  D 5307\n                                  D 10050\n                                  E 7\n                                  E 5\n                                  E 29\n                                  E 2\n                                  \")\nbahan_isolasi\n```\n\n\n\n\n## Analysis of Variance (ANOVA)\n\nHipotesis yang diuji pada kasus ini adalah\n\n$$\n\\begin{aligned}\nH_{0} &: \\text{rerata waktu kegagalan sama untuk semua jenis bahan} \\\\\nH_{1} &: \\text{terdapat minimal sepasang jenis bahan yang memiliki rerata waktu kegagalan tidak sama}\n\\end{aligned}\n$$\n\n\n\n```{r}\nanova1 <- aov(WaktuKegagalan ~ Bahan,data = bahan_isolasi)\n```\n\n```{r}\ntidy(anova1)\n```\n\nkarena p-value yang dihasilkan dari uji ANOVA kurang dari 0.05 maka cukup bukti untuk mengakatakan bahwa $H_{0}$ ditolak atau dengan kata lain **terdapat minimal sepasang jenis bahan yang memiliki rata-rata waktu kegagalan tidak sama**\n\n## Pemeriksaan Asumsi ANOVA\n\nPemeriksaan asumsi ANOVA dilakukan pada residual nya. Untuk mengeluarkan residualnya bisa menggunakan sintaks dibawah ini\n\n```{r warning=FALSE}\naug1 <- augment(anova1)\n\n```\n\n```{r}\naug1\n```\n\n\n### Normalitas (Residual Menyebar Normal)\n\nPemeriksaan Normalitas bisa dilakukan dengan menggunakan grafik atau uji hipotesis.\n\n\n#### Grafik\n\nuntuk menampilkan grafik dibawah ini terlebih dahulu harus memanggil package `performance` dan `see`\n\n\n\n\n```{r}\nplot(check_normality(x = anova1),type=\"qq\")\n```\n\nDari grafik ini, terdapat beberapa titik residual yang tidak mengikuti pola garis  maka diduga bahwa asumsi normalitas tidak dipenuhi.\n\n#### Uji Hipotesis\n\nHipotesis yang diuji untuk pemeriksaan normalitas adalah\n\n$$\n\\begin{aligned}\nH_{0} &: \\text{galat menyebar normal} \\\\\nH_{1} &: \\text{galat tidak menyebar normal}\n\\end{aligned}\n$$\n\nUji Normalitas bisa dilakukan dengan beberapa metode pengujian. Untuk itu, akan dibuat fungsi R agar dapat menjalankan metode-metode pengujian tersebut. Fungsi R ini tidak perlu dipahami secara serius karena dapat digunakan untuk berbagai kondisi data. Fungsi R buatan ini sangat bergantung pada package `fbasics`\n\n```{r}\n## fungsi R buatan\n\nnormal_test <- function(data,variable){\n  ad_stat <- adTest(\n    data %>% \n      pull(variable)\n    )@test$statistic\n  ks_stat <- ksnormTest(\n    data %>% \n      pull(variable)\n    )@test$statistic\n  jb_stat <- jarqueberaTest(\n    data %>% \n      pull(variable)\n    )@test$statistic\n  \n  shapiro_stat <- shapiroTest(\n    data %>% \n      pull(variable)\n    )@test$statistic\n  \n  ad_p.value <- adTest(\n    data %>% \n      pull(variable)\n    )@test$p.value\n  ks_p.value <- ksnormTest(\n    data %>% \n      pull(variable)\n    )@test$p.value\n  jb_p.value <- jarqueberaTest(\n    data %>% \n      pull(variable)\n    )@test$p.value\n  \n  shapiro_p.value <- shapiroTest(\n    data %>% \n      pull(variable)\n    )@test$p.value\n  \n  all_stats <- data.frame(statistic=c(ad_stat,                                  ks_stat[1],\n                        jb_stat,\n                        shapiro_stat),\n                        p.value=c(\n                        ad_p.value,                              ks_p.value[1],\n                        jb_p.value,\n                        shapiro_p.value\n                        )) %>% \n    mutate(across(where(is.numeric),~ round(.x,3))) %>% \n    mutate(name=c(\"Anderson-Darling\",\n                    \"Kolmogorov-Smirnov\",\n                    \"Shapiro-Wilk\",\n                    \"Jarque-Bera\")) %>% \n    relocate(name) \n    \n  \n  rownames(all_stats) <- NULL\n  return(all_stats)\n}\n\n```\n\n\n\n\n```{r}\nnormal_test(data = aug1,\n            variable = \".resid\")\n```\n\n\nkarena p-value yang dihasilkan dari uji normalitas kurang dari 0.05 maka $H_{0}$ ditolak atau dengan kata lain **residual tidak menyebar normal**\n\n### Homogenitas\n\nPemeriksaan Homogenitas bisa dilakukan dengan menggunakan grafik atau uji hipotesis.\n\n\n#### Grafik\n\nuntuk menampilkan grafik dibawah ini menggunakan package `ggpubr` \n\n\n\n```{r}\nggscatter(data = aug1,\n                  x=\".fitted\",\n                  y=\".resid\")+\n  geom_hline(aes(yintercept=0)) +\n  theme_lucid()\n```\n\n\nDari grafik ini, terdapat pola berbentuk corong (funnel shape) maka diduga bahwa asumsi homogenitas tidak dipenuhi.\n\n#### Uji Hipotesis\n\nHipotesis yang diuji untuk pemeriksaan homogenitas adalah\n\n$$\n\\begin{aligned}\nH_{0} &: \\text{ragam homogen antar perlakukan} \\\\\nH_{1} &: \\text{ragam tidak homogen antar perlakuan}\n\\end{aligned}\n$$\n\n\nUji Homogenitas bisa dilakukan dengan beberapa metode pengujian dibawah ini\n\n```{r}\n# Bartlett (asumsi residual menyebar normal)\ncheck_homogeneity(anova1,method=\"bartlett\")\n# Fligner (merupakan uji nonparametrik)\ncheck_homogeneity(anova1,method=\"fligner\")\n```\n\nkarena p-value yang dihasilkan dari uji homogenitas kurang dari 0.05 maka $H_{0}$ ditolak atau dengan kata lain **ragam tidak homogen antar perlakukan**\n\n\n### Independent\n\n#### Grafik\n\nPemeriksaan Independent bisa dilakukan dengan menggunakan grafik.\n\nuntuk menampilkan grafik dibawah ini menggunakan package `ggpubr` \n\n\n```{r}\naug1 %>%                    \n  mutate(order=seq(nrow(aug1))) %>% \n  ggscatter(x=\"order\",y=\".resid\")+\n  theme_lucid()\n```\nDari grafik ini, tidak terbentuk pola tertentu (misal pola linear) maka diduga bahwa asumsi Independent dipenuhi.\n\n\n## Penanganan Pelanggaran Asumsi\n\n### Transformasi Box-cox\n\nTransformasi Box-Cox didefinisikan sebagai\n\n$$\n\\begin{equation}\ny^{(\\lambda)} = \n\\begin{cases}\n  \\frac{y^{\\lambda}-1}{\\lambda} & \\text{untuk} \\space \\lambda\\neq 0  \\\\\n  \\ln{(y)} & \\text{untuk} \\space \\lambda= 0  \\\\\n\\end{cases}\n\\end{equation}\n$$\n\nuntuk mendapatkan nilai $\\lambda$ optimal dapat digunakan pendugaan  MLE, yaitu dengan mendapatkan nilai $\\lambda$ yang memaksimumkan fungsi log-likelihood. Hal ini bisa dilihat pada grafik yang diperoleh dari fungsi `boxCox` pada package `car`\n\n```{r}\nboxCox(anova1)\n```\n\nBerdasarkan gambar diketahui bahwa nilai lambda yang optimum ada disekitar nol. Oleh karena itu kita bisa langsung memakai $\\lambda = 0$.\n\nCara lain untuk mendapatkan nilai lambda optimum adalah dengan menggunakan fungsi `powerTransform` dari package `car` yang menampilkan hasil pendugaan titik (point estimate), selang kepercayaan dan uji hipotesis dengan Likelihood Ratio Test (LRT) dari $\\lambda$\n\n```{r}\nboxcox_res <-powerTransform(anova1) \nsummary(boxcox_res)\n# pembulatan pada lambda\nboxcox_res$roundlam\n```\n\nBerdasarkan output nya didapatkan bahwa \n\n1. penduga titik nya $\\lambda=0.0101$ atau dibulatkan menjadi $\\lambda=0$.\n2. selang kepercayaan $-0.094 \\leq \\lambda \\leq 0.1141$\n3. Untuk uji hipotesis yang pertama (Log Transformation)\n\n$$\n\\begin{aligned}\nH_{0} &: \\lambda = 0 \\space \\\\\nH_{1} &: \\lambda \\neq 0 \n\\end{aligned}\n$$\n\nkarena p-value dari uji yang pertama besar (lebih dari 0.05) maka tidak tolak $H_{0}$ atau dengan kata lain kita bisa menggunakan $\\lambda=0$\n4. Untuk uji hipotesis yang kedua (no transformation)\n\n\n$$\n\\begin{aligned}\nH_{0} &: \\lambda = 1 \\space \\\\\nH_{1} &: \\lambda \\neq 1\n\\end{aligned}\n$$\n\nkarena p-value dari uji yang pertama kecil (kurang dari 0.05) maka tolak $H_{0}$ atau dengan kata lain kita bisa menggunakan $\\lambda \\neq 1$. Nilai $\\lambda \\neq 1$ implikasinya ada transformasi dan nilai $\\lambda = 1$ implikasinya tidak dibutuhkan transformasi.\n\n\n```{r}\nbahan_isolasi_trans <- bahan_isolasi %>% \n                        mutate(WaktuKegagalan_Trans =bcPower(WaktuKegagalan,boxcox_res$roundlam))\n\nanova2 <- aov(WaktuKegagalan_Trans ~ Bahan,data = bahan_isolasi_trans)\n```\n\n```{r}\ntidy(anova2)\n```\n\n\n### Pemeriksaan kembali Asumsi ANOVA\n\nPemeriksaan asumsi ANOVA dilakukan pada residual nya. Untuk mengeluarkan residualnya bisa menggunakan sintaks dibawah ini\n\n```{r warning=FALSE}\naug2 <- augment(anova2)\n\n```\n\n```{r}\naug2\n```\n\n\n### Normalitas (Galat Menyebar Normal)\n\nPemeriksaan Normalitas bisa dilakukan dengan menggunakan grafik atau uji hipotesis.\n\n\n#### Grafik\n\nuntuk menampilkan grafik dibawah ini terlebih dahulu harus memanggil package `performance` dan `see`\n\n\n\n\n```{r}\nplot(check_normality(x = anova2),type=\"qq\")\n```\n\nDari grafik ini, titik-titik residual yang engikuti pola garis dan berada di dalam daerah selang kepercayaan maka diduga bahwa asumsi normalitas terpenuhi.\n\n#### Uji Hipotesis\n\nHipotesis yang diuji untuk pemeriksaan normalitas adalah\n\n$$\n\\begin{aligned}\nH_{0} &: \\text{galat menyebar normal} \\\\\nH_{1} &: \\text{galat tidak menyebar normal}\n\\end{aligned}\n$$\n\nUji Normalitas bisa dilakukan dengan beberapa metode pengujian. \n\n```{r}\nnormal_test(data = aug2,\n            variable = \".resid\")\n```\n\n\nkarena p-value yang dihasilkan dari uji normalitas lebih besar dari 0.05 maka $H_{0}$ tidak ditolak atau dengan kata lain **galat menyebar normal**\n\n### Homogenitas\n\nPemeriksaan Homogenitas bisa dilakukan dengan menggunakan grafik atau uji hipotesis.\n\n\n#### Grafik\n\nuntuk menampilkan grafik dibawah ini menggunakan package `ggpubr` \n\n\n\n```{r}\nggscatter(data = aug2,\n                  x=\".fitted\",\n                  y=\".resid\")+\n  geom_hline(aes(yintercept=0)) +\n  theme_lucid()\n```\n\n\nDari grafik ini, tidak terdapat pola berbentuk corong (funnel shape) maka diduga bahwa asumsi homogenitas terpenuhi.\n\n#### Uji Hipotesis\n\nHipotesis yang diuji untuk pemeriksaan homogenitas adalah\n\n$$\n\\begin{aligned}\nH_{0} &: \\text{ragam homogen antar perlakukan} \\\\\nH_{1} &: \\text{ragam tidak homogen antar perlakuan}\n\\end{aligned}\n$$\n\n\nUji Homogenitas bisa dilakukan dengan beberapa metode pengujian dibawah ini\n\n```{r}\n# Bartlett (asumsi residual menyebar normal)\ncheck_homogeneity(anova2,method=\"bartlett\")\n# Fligner (merupakan uji nonparametrik)\ncheck_homogeneity(anova2,method=\"fligner\")\n```\n\nkarena p-value yang dihasilkan dari uji homogenitas lebih besar dari 0.05 maka $H_{0}$ tidak ditolak atau dengan kata lain **ragam homogen antar perlakukan**\n\n\n### Independent\n\n#### Grafik\n\nPemeriksaan Independent bisa dilakukan dengan menggunakan grafik.\n\nuntuk menampilkan grafik dibawah ini menggunakan package `ggpubr` \n\n\n```{r}\naug2 %>%                    \n  mutate(order=seq(nrow(aug1))) %>% \n  ggscatter(x=\"order\",y=\".resid\")+\n  theme_lucid()\n```\nDari grafik ini, tidak terbentuk pola tertentu (misal pola linear) maka diduga bahwa asumsi Independent dipenuhi.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"html-math-method":{"method":"mathjax","url":"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js","embed-resources":true,"toc":true,"toc-depth":6},"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","theme":{"light":"flatly","dark":"darkly"},"page-layout":"article","comments":{"hypothesis":{"theme":"clean","openSidebar":false}},"title":"Pemeriksaan dan Pengujian Asumsi ANOVA dengan R","date":"11-19-2021","author":"Gerry Alfa Dito","categories":["Compare Means","Analysis of Experiments Data"],"draft":false,"image":"post-image.jpg"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}